{% extends "layout.html.twig" %}

{% block title %}Observation - {{ parent() }}{% endblock %}

{% block body %}
    <header class="header-404 overlay full-404 relative v-center" id="home-page">
        <div class="absolute anlge-bg"></div>
        <div class="container">
            <div class="row v-center">
                <div class="col-xs-12 col-md-7 header-text">
                    <h2>OBSERVATIONS</h2>
                    <h3>En détail</h3>
                </div>
            </div>
        </div>
        </div>
    </header>

    <section class="section-padding gray-bg" id="blog-page">
        <div class="container">
            <div class="row">
                <div class="col-xs-12">
                    <div class="card no-style observation no-border">
                            <div class="item active row">
                                <div class="v-center">
                                    <div class="col-xs-12 col-md-6">
                                        <div class="caption-photo one" data-animation="animated fadeInRight">
                                            <img src="{{ asset('bundles/naocore/img/oiseaux/observations/' ~ observation.imagePath ) }}" alt="Image d'un oiseaux">
                                        </div>
                                    </div>
                                    <div class="col-xs-12 col-md-6">
                                        <div class="caption-title" data-animation="animated fadeInUp">
                                            <h2>{{ 'Observation du %date%'|trans({'%date%': observation.watched|date("d/m/Y")}) }}<br/></h2>
                                        </div>
                                        <div class="caption-desc" data-animation="animated fadeInUp">
                                            <p>{{ observation.taxref.commonName }}</p>
                                            <p>{{ '%individuals% individu(s) observé(s) le %date%'|trans({'%individuals%': observation.individuals, '%date%': observation.watched|date("d/m/Y")}) }}<br/>
                                                {{ 'à %place%'|trans({'%place%': observation.place}) }}</p>
                                            <p>{{ 'Coordonnées GPS %latitude% N, %longitude% E' | trans({'%latitude%': observation.latitude | gps_dms, "%longitude%": observation.longitude | gps_dms()}) }}</p>
                                            <p>Commentaire: <br />{{ observation.comments }}</p>
                                        </div>
                                    </div>
                                    <div class="observedby">
                                        <p>Valider par : <br />{% include ':observation/validation:observer.html.twig' %}</p>
                                    </div>
                                </div>
                            </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <section class="section-padding-card gray-bg" id="blog-page">
        <div class="container">
        <h2>{{ 'Dernier spécimen observé du %name%'|trans({'%name%': observation.taxref.commonName}) }}</h2>
        {% if lastobs != null %}
            <div class="row">
                <div class="col s12 m6 offset-l4 l4">
                    {% include 'observation/cards/observation.html.twig' with {'observation': lastobs } only %}
                </div>
            </div>
        {% else %}
            <p>Il n'y a pas d'autre observation pour ce spécimen</p>
        {% endif %}
        </div>
    </section>
{% endblock %}